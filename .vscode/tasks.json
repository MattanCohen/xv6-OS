{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Debug with GDB",
            "command": "bash",
            "args": [
                "-c",
                "make && make qemu-gdb"
            ],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                // "close": true,
            },
            "group": "build"
        },
        {
            "label": "Play",
            "command": "bash",
            "args": [
                "-c",
                "make start"
            ],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                // "close": true,

                // "panel": "new",
                // "showReuseMessage": true,
                // "clear": true
            },
            "group": "build"
        },
        {
            "label": "Wipe data",
            "command": "bash",
            "args": [
                "-c",
                "make delete"
            ],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "close": true,
            },
            "group": "build"
        },
        {
            "label": "Restart",
            "command": "bash",
            "args": [
                "-c",
                "make start-temp"
            ],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                // "close": true,
            },
            "group": "build"
        },		{
			"label": "Build-xv6",
			"type": "shell",
			"command": "make",
			// "args": ["${relativeFile}"],
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"problemMatcher": [
				"$gcc"
			],
			"group": {
				"kind": "build",
				"isDefault": true
			},
		},
		{
			"label": "run-gdb-backend-xv6",
			"type": "shell",
			"command": "make",
			"args": ["qemu-gdb"],
			"options": {
				"cwd": "${workspaceFolder}"
			},

			"isBackground": true,
			  "problemMatcher": {
				"base": "$gcc",
				"applyTo": "allDocuments",
				"background": {
					"activeOnStart": true,
					"beginsPattern": ".",
					"endsPattern": "Now run \\'gdb\\'"
				},  
			},
		},
        // {
        //     "type": "cppbuild",
        //     "label": "C/C++: gcc-10 build active file",
        //     "command": "/usr/bin/gcc-10",
        //     "args": [
        //         "-fdiagnostics-color=always",
        //         "-g",
        //         "${file}",
        //         "-o",
        //         "${fileDirname}/${fileBasenameNoExtension}"
        //     ],
        //     "options": {
        //         "cwd": "${fileDirname}"
        //     },
        //     "problemMatcher": [
        //         "$gcc"
        //     ],
        //     "group": {
        //         "kind": "build",
        //         "isDefault": true
        //     },
        //     "detail": "Task generated by Debugger."
        // }
    ]
}